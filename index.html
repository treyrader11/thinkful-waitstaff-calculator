<!DOCTYPE html>
<html ng-app="mealApp">
<head>
	<title>Waitstaff Calculator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body ng-app="angularApp" ng-controller="MealCtrl">
  	
  	<div class="container-fluid" id="masthead">
        <header class="row text-center">
            <h1>Waitstaff<span style="color: brown">Calculator</span></h1>
        </header>
   	</div>

   	<div class="container">
        <div class="row main-wrapper">

            <div class="col-md-7 border" id="meal-details">
				<div class="panel panel-default">
    				<div class="panel-heading text-center"><h3>Enter the Meal Details</h3></div>
    				<div class="panel-body text-center">
    							
						<form class="form-horizontal" id="meal-form" name="meal_form" role="form" novalidate ng-submit="addMeal()">
							<div class="form-group" ng-class="{'has-error': mealForm.baseMealPrice.$invalid && !mealForm.baseMealPrice.$pristine}">
								<label class="control-label col-sm-6" for="meal_price">Base Meal Price: $</label>
								<div class="col-sm-6">
									<input type="number" onfocus="if(this.value == 0) { this.value = ' ' }" value="value" name="meal_price" placeholder="Enter Price" ng-model="data.price" required />
									 <p ng-show="meal_form.$submitted && meal_form.meal_price.$invalid && !meal-form.meal__price.$pristine" class="error-message">Please enter the meal price</p>
								</div>
							</div>

							<div class="form-group" ng-class="{'has-error': mealForm.baseMealPrice.$invalid && !mealForm.baseMealPrice.$pristine}">
								<label class="control-label col-sm-6" for="tax_rate">Tax Rate: %</label>
								<div class="col-sm-6">
									<input type="number" onfocus="if(this.value == 0) { this.value = '' }" value="value" name="tax_rate" placeholder="Enter Tax Rate" ng-model="data.taxRate" required />
									<p ng-show="meal_form.$submitted && meal_form.tax_rate.$invalid && !meal-form.tax_rate.$pristine" class="error-message">Please enter the amount for tax rate</p>
								</div>
							</div>

								<!--took out $pristine validation-->
							<div class="form-group" ng-class="{'has-error': mealForm.baseMealPrice.$invalid && !mealForm.baseMealPrice.$pristine}">
								<label class="control-label col-sm-6" for="tip_percentage">Tip Percentage: %</label>
								<div class="col-sm-6">
									<input type="number" onfocus="if(this.value == 0) { this.value = '' }" value="value" name="tip_percentage" placeholder="Enter Tip" ng-model="data.tipPercentage" required />
									<p ng-show="meal_form.$submitted && meal_form.tip_percentage.$invalid" class="error-message">Please enter the amount for tip</p>
								</div>
							</div>
							
							<div class="form-group" id="button-wrapper">
								<div class="col-sm-6">
									<button type="submit" class="btn btn-default">Submit</button>
								</div>
								<div class="col-sm-6">
									<button type="submit" class="btn btn-default">Cancel</button>
								</div>
							</div>

						</form>
						

    				</div>
  				</div>
  			</div>


            <div class="col-md-5" id="calculator">
				<div class="row border text-center charges">
					<div class="panel panel-default">
    					<div class="panel-heading text-center"><h3>Customer Charges</h3></div>
    					<div class="panel-body text-center">
    						<h4>Subtotal: {{ data.subtotal | currency }}</h4>
                   			<h4>Tip: {{ data.tip | currency }}</h4>
                   		</div>
					</div>
				</div>


				<div class="row border text-center earnings">
					<div class="panel panel-default">
    					<div class="panel-heading text-center"><h3>My Earnings Info</h3></div>
    					<div class="panel-body text-center">
    						<h4>Tip Total: {{ data.tipTotal | currency }}</h4>
                   			<h4>Meal Count: {{data.mealCount | number }}</h4>
                   			<h4>Average Tip Per Meal: {{ data.averageTip | currency }}</h4>
                   		</div>
					</div>
				</div>
			</div>
        

        </div>
    </div>

	


	

	<!--angular libraries-->
  	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-route.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-messages.min.js"></script>

    <!--angular modules-->
    <script src="./app.js"></script>
    
    <!--controllers-->
    <script src="controllers/mealCtrl.js"></script>
</body>
</html>